<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        @keyframes fall {
            to { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }
        @keyframes bounce {
            0%,100%{transform:translateY(0)}
            50%{transform:translateY(-20px)}
        }
        @keyframes spin {
            from{transform:rotate(0)}
            to{transform:rotate(360deg)}
        }
        @keyframes pulse {
            0%,100%{opacity:.3}
            50%{opacity:1}
        }

        .animate-bounce{animation:bounce 2s infinite}
        .animate-spin{animation:spin 3s linear infinite}
        .animate-pulse{animation:pulse 2s infinite}

        /* ğŸŒ™ Ø¯Ø§Ø±Ùƒ Ù…ÙˆØ¯ */
        .dark body {
            background: linear-gradient(to bottom right,#111827,#1f2933);
        }
        .dark .bg-white\/90 {
            background-color: rgba(31,41,55,.9)!important;
        }
        .dark .text-gray-900 { color:#f9fafb!important; }
        .dark .text-gray-600 { color:#d1d5db!important; }
    </style>
</head>

<body class="bg-gradient-to-br from-pink-100 via-purple-100 to-pink-200 min-h-screen">

<div id="confettiContainer"></div>

<div class="max-w-4xl mx-auto p-4 sm:p-8">
<div class="text-center mb-8 relative">

<button id="darkModeBtn"
class="absolute right-0 top-0 p-3 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg">
â˜€ï¸
</button>

<h1 class="text-4xl font-bold mb-3">ğŸ€ Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„ÙŠÙˆÙ…ÙŠØ© ğŸ€</h1>
<p id="currentDate" class="text-gray-600"></p>

<!-- Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø¥Ù†Ø¬Ø§Ø² -->
<div id="rewardMessage" style="display:none" class="mt-6 animate-pulse">
<div class="bg-gradient-to-r from-yellow-400 via-pink-500 to-purple-600 text-white rounded-3xl px-8 py-6 shadow-2xl inline-block">
<h2 class="text-2xl font-bold">ğŸ‰ Ø®Ù„ØµØª Ù…Ù‡Ø§Ù… Ø§Ù„ÙŠÙˆÙ…!</h2>
<p>ÙˆØ´ Ù…Ù‡Ø§Ù… Ø¨ÙƒØ±Ø©ØŸ</p>
</div>
</div>

<!-- Ù…Ù‡Ø§Ù… Ø¨ÙƒØ±Ø© -->
<div id="tomorrowTasks" style="display:none" class="mt-6">
<div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-2xl p-6 shadow-xl">
<h3 class="text-xl font-bold mb-4">ğŸŒ… Ù…Ù‡Ø§Ù… Ø¨ÙƒØ±Ø©</h3>
<button onclick="addTomorrowTask('Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù…Ù‡Ø§Ù…')" class="block w-full mb-2 bg-white/20 p-3 rounded-xl">ğŸ“ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù…Ù‡Ø§Ù…</button>
<button onclick="addTomorrowTask('Ø±ÙŠØ§Ø¶Ø©')" class="block w-full mb-2 bg-white/20 p-3 rounded-xl">ğŸƒâ€â™‚ï¸ Ø±ÙŠØ§Ø¶Ø©</button>
<button onclick="addTomorrowTask('ØªØ¹Ù„Ù… Ø´ÙŠØ¡ Ø¬Ø¯ÙŠØ¯')" class="block w-full bg-white/20 p-3 rounded-xl">ğŸ“š ØªØ¹Ù„Ù… Ø´ÙŠØ¡ Ø¬Ø¯ÙŠØ¯</button>
</div>
</div>

</div>

<!-- Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ù…Ø© -->
<div class="bg-white/90 rounded-2xl p-6 mb-6 shadow-xl">
<div class="flex gap-3">
<input id="taskInput" class="flex-1 px-5 py-4 rounded-xl border" placeholder="Ø£Ø¶Ù Ù…Ù‡Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©...">
<select id="prioritySelect" class="px-4 py-4 rounded-xl border">
<option value="low">Ù…Ù†Ø®ÙØ¶Ø©</option>
<option value="medium">Ù…ØªÙˆØ³Ø·Ø©</option>
<option value="high">Ø¹Ø§Ù„ÙŠØ©</option>
</select>
<button id="addBtn" class="bg-purple-600 text-white px-8 rounded-xl">â•</button>
</div>
</div>

<div id="tasksList" class="space-y-3"></div>
</div>

<script>
/* ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ® */
currentDate.textContent = new Date().toLocaleDateString('ar-SA',{
weekday:'long',year:'numeric',month:'long',day:'numeric'
});

/* âŒ Ø¨Ø¯ÙˆÙ† Ù…Ù‡Ø§Ù… Ø§ÙØªØ±Ø§Ø¶ÙŠØ© */
let tasks = JSON.parse(localStorage.getItem('tasks')) || [];

/* Ø§Ù„Ø¹Ù†Ø§ØµØ± */
const taskInput = document.getElementById('taskInput');
const prioritySelect = document.getElementById('prioritySelect');
const tasksList = document.getElementById('tasksList');
const progressText = document.createElement('span');
const rewardMessage = document.getElementById('rewardMessage');
const tomorrowTasks = document.getElementById('tomorrowTasks');

/* Ø­ÙØ¸ */
function saveTasks(){
localStorage.setItem('tasks',JSON.stringify(tasks));
}

/* Ø¹Ø±Ø¶ */
function renderTasks(){
if(tasks.length===0){
tasksList.innerHTML=`<div class="text-center text-gray-600">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‡Ø§Ù…</div>`;
return;
}
tasksList.innerHTML=tasks.map(t=>`
<div class="bg-white/90 p-4 rounded-xl shadow flex justify-between">
<span class="${t.completed?'line-through opacity-50':''}">${t.text}</span>
<div>
<button onclick="toggleTask(${t.id})">âœ…</button>
<button onclick="deleteTask(${t.id})">ğŸ—‘ï¸</button>
</div>
</div>
`).join('');
updateProgress();
}

/* Ø¥Ø¶Ø§ÙØ© */
addBtn.onclick=()=>{
if(!taskInput.value) return;
tasks.push({id:Date.now(),text:taskInput.value,completed:false,priority:prioritySelect.value});
taskInput.value='';
saveTasks();
renderTasks();
};

/* ØªØ¨Ø¯ÙŠÙ„ */
function toggleTask(id){
const t=tasks.find(x=>x.id===id);
t.completed=!t.completed;
saveTasks();
renderTasks();
}

/* Ø­Ø°Ù */
function deleteTask(id){
tasks=tasks.filter(t=>t.id!==id);
saveTasks();
renderTasks();
}

/* ØªÙ‚Ø¯Ù… + Ù…Ù‡Ø§Ù… Ø¨ÙƒØ±Ø© */
function updateProgress(){
const done=tasks.filter(t=>t.completed).length;
if(tasks.length && done===tasks.length){
rewardMessage.style.display='block';
tomorrowTasks.style.display='block';
}else{
rewardMessage.style.display='none';
tomorrowTasks.style.display='none';
}
}

/* Ù…Ù‡Ø§Ù… Ø¨ÙƒØ±Ø© */
function addTomorrowTask(text){
tasks.push({id:Date.now(),text,completed:false,priority:'medium'});
saveTasks();
renderTasks();
}

/* ğŸŒ™ Ø¯Ø§Ø±Ùƒ Ù…ÙˆØ¯ */
const darkBtn=document.getElementById('darkModeBtn');
function setDark(d){
document.documentElement.classList.toggle('dark',d);
darkBtn.textContent=d?'ğŸŒ™':'â˜€ï¸';
localStorage.setItem('dark',d);
}
darkBtn.onclick=()=>setDark(!document.documentElement.classList.contains('dark'));
setDark(localStorage.getItem('dark')==='true');

renderTasks();
</script>

</body>
</html>
